export type Locale = 'zh-CN' | 'en-US'

export const defaultLocale: Locale = 'zh-CN'
export const supportedLocales = ['zh-CN', 'en-US'] as const

export const resources = {
  'zh-CN': {
    translation: {
      'app.name': 'marko',
      'titlebar.subtitle': 'Typora 风格 · 项目图谱',
      'actions.openProject': '打开项目',
      'actions.toggleSidebar': '切换侧边栏',
      'actions.gitSync': 'Git 同步',
      'actions.minimize': '最小化',
      'actions.maximize': '最大化',
      'actions.restore': '还原',
      'actions.close': '关闭',
      'menu.theme': '主题',
      'menu.language': '语言',
      'theme.warm': '温暖',
      'theme.light': '明亮',
      'theme.dark': '暗色',
      'sidebar.recentProjects': '最近项目',
      'sidebar.noRecentProjects': '暂无项目',
      'sidebar.files': '文件',
      'sidebar.noProjectLoaded': '尚未载入项目',
      'sidebar.newFile': '新建文件',
      'sidebar.newFolder': '新建文件夹',
      'sidebar.refresh': '刷新',
      'sidebar.localWorkspace': '本地工作区',
      'context.open': '打开',
      'context.rename': '重命名',
      'context.delete': '删除',
      'context.newFile': '新建文件',
      'context.newFolder': '新建文件夹',
      'context.renamePrompt': '重命名为：',
      'context.newFilePrompt': '新建文件名：',
      'context.newFolderPrompt': '新建文件夹名：',
      'context.deleteConfirm': '确认删除「{name}」？',
      'context.deleteFolderConfirm': '确认删除文件夹「{name}」？',
      'tabs.editor': '编辑器',
      'tabs.graph': '思维导图',
      'editor.empty': '请选择或打开一个文件',
      'editor.loading': '加载编辑器中…',
      'dialog.selectProjectTitle': '选择项目目录',
      'notFound.title': '未找到文件',
      'notFound.description': '该路径没有对应的 Markdown 文件，请返回图谱或打开其他文件。',
      'notFound.selectPlaceholder': '选择文件…',
      'notFound.open': '打开',
      'language.zh': '简体中文',
      'language.en': 'English',
    },
  },
  'en-US': {
    translation: {
      'app.name': 'marko',
      'titlebar.subtitle': 'Typora-style · Project graph',
      'actions.openProject': 'Open Project',
      'actions.toggleSidebar': 'Toggle sidebar',
      'actions.gitSync': 'Git Sync',
      'actions.minimize': 'Minimize',
      'actions.maximize': 'Maximize',
      'actions.restore': 'Restore',
      'actions.close': 'Close',
      'menu.theme': 'Theme',
      'menu.language': 'Language',
      'theme.warm': 'Warm',
      'theme.light': 'Light',
      'theme.dark': 'Dark',
      'sidebar.recentProjects': 'Recent Projects',
      'sidebar.noRecentProjects': 'No recent projects',
      'sidebar.files': 'Files',
      'sidebar.noProjectLoaded': 'No project loaded',
      'sidebar.newFile': 'New file',
      'sidebar.newFolder': 'New folder',
      'sidebar.refresh': 'Refresh',
      'sidebar.localWorkspace': 'Local workspace',
      'context.open': 'Open',
      'context.rename': 'Rename',
      'context.delete': 'Delete',
      'context.newFile': 'New file',
      'context.newFolder': 'New folder',
      'context.renamePrompt': 'Rename to:',
      'context.newFilePrompt': 'New file name:',
      'context.newFolderPrompt': 'New folder name:',
      'context.deleteConfirm': 'Delete "{name}"?',
      'context.deleteFolderConfirm': 'Delete folder "{name}"?',
      'tabs.editor': 'Editor',
      'tabs.graph': 'Mind Map',
      'editor.empty': 'Select or open a file',
      'editor.loading': 'Loading editor…',
      'dialog.selectProjectTitle': 'Select project folder',
      'notFound.title': 'File not found',
      'notFound.description':
        'There is no Markdown file for this path. Go back to the graph or open another file.',
      'notFound.selectPlaceholder': 'Select file…',
      'notFound.open': 'Open',
      'language.zh': '简体中文',
      'language.en': 'English',
    },
  },
} as const

export function normalizeLocale(input?: string | null): Locale {
  if (!input) return defaultLocale
  const normalized = input.toLowerCase()
  if (normalized.startsWith('zh')) return 'zh-CN'
  if (normalized.startsWith('en')) return 'en-US'
  return defaultLocale
}
